# Project TODO

This document tracks the high-level work streams and tasks for rlvgl development.

## 0 Repo & Container bootstrap
 - [x] Create rlvgl monorepo skeleton (`core/`, `widgets/`, `platform/`, `lvgl/` submodule)
- [x] Finalise Dockerfile tweaks (LLVM/clang, rustup, arm-gcc, bindgen, SDL)
- [x] Add `.cargo/config.toml` with embedded profile & target triple
- [x] GitHub Actions / GitLab CI stub (build, unit-test, size report)

## 1 Core runtime skeleton
- [x] Widget trait (bounds, life-cycle hooks, draw/event signatures)
- [x] WidgetNode tree (Rc<RefCell<_>>, or slab index)
- [x] Event enum + dispatcher (bubbling/capture order)
- [x] Style struct + builder pattern
- [x] Minimal Renderer trait (target-agnostic)

## 2 Build tooling & CI
- [x] Add `profile.release` settings (lto=true, opt-level=z, etc.)
- [x] Size-check script (`arm-none-eabi-size`)
- [x] Clippy + Rust-fmt gating
- [x] Pre-commit hook template
- [x] CI environment bootstrap script + workflow integration
## 3 Display & Input HAL layer

- [x] Define `DisplayDriver` trait (`flush(Rect, &[Color])`)
- [x] Define `InputDevice` trait (`poll() -> Option<InputEvent>`)
- [x] Provide dummy stub driver for headless tests
- [x] SPI-based example driver (`st7789`) using `embedded-hal`

## 4 Tier 1 widget translations
- [x] Label (text-only)
- [x] Button (extends Label props)
- [x] Container (flex-like layout)
- [x] Unit tests + golden screenshots via dummy driver

## 5 Simulation backend
- [x] Add simulator feature flag (`std`, pixels)
- [x] Map `DisplayDriver` to desktop window
- [x] Connect keyboard/mouse to `InputDevice` trait
- [ ] CI step: run example, dump PNG for diff

## 6 Tier 2 widget translations
- [x] Checkbox
- [x] Slider
- [x] Arc / Progress bar
- [x] List
- [x] Image (embedded-graphics backend)

## 7 Theming & Animations
 - [x] Global Theme trait (color scheme, style cascading)
 - [x] Animation manager (`tick()` hook → style/position interpolation)
 - [x] Port basic fade/slide from LVGL as proof

## 8 Docs & Examples
- [x] Auto-doc each public API with `#![doc = include_str!(…)]`
- [ ] Generate mdBook or Docusaurus site
- [ ] Example gallery: embed GIFs generated by simulator

## 9 Advanced tests & regression harness
- [ ] Pull LVGL C demo → render to bitmap (sim)
- [ ] Render same UI in rlvgl, image-diff in CI
- [ ] Fuzz events (rapid taps, drags) to catch borrow/lifetime panics

## 10 Simulator examples
- [x] Update samples/sim (rlvds-sim) to run rlvds in a window using std and the "simulator" feature
- [x] Demonstrate core / widget features in examples/sim (use placeholder assets) using hierarchy matching the upper package
- [x] Demonstrate plugin features (use placeholder assets) using hierarchy matching the upper package; add a `plugins` button to the demo to launch optional items and set all build options
