{
  "$schema":"https://json-schema.org/draft/2020-12/schema",
  "title":"STM32 MCU canonical overlay",
  "type":"object",
  "required":["mcu"],
  "properties":{
    "mcu":{
      "type":"object",
      "required":["meta","instances","pins"],
      "properties":{
        "meta":{
          "type":"object",
          "required":["Family","Package","RefName"],
          "properties":{
            "Family":{"type":"string"},
            "Line":{"type":["string","null"]},
            "Package":{"type":"string"},
            "RefName":{"type":"string"},
            "ClockTree":{"type":["string","null"]},
            "DBVersion":{"type":["string","null"]},
            "HasPowerPad":{"type":["boolean","null"]},
            "Core":{"type":["string","null"]},
            "Frequency_MHz":{"type":["number","null"]},
            "Ram_KB":{"type":["integer","null"]},
            "Flash_KB":{"type":["array","null"], "items":{"type":"integer"}},
            "Voltage":{"type":"object","properties":{"min":{"type":"number"},"max":{"type":"number"}}},
            "Temperature_C":{"type":"object","properties":{"min":{"type":"number"},"max":{"type":"number"}}},
            "IONb":{"type":["integer","null"]},
            "Die":{"type":["string","null"]},
            "other_attributes":{"type":"object","additionalProperties":true}
          },
          "additionalProperties":true
        },
        "instances":{
          "type":"array",
          "items":{
            "type":"object",
            "required":["instance","type"],
            "properties":{
              "instance":{"type":["string","null"]},
              "type":{"type":["string","null"]},
              "version":{"type":["string","null"]},
              "configFile":{"type":["string","null"]},
              "clockEnableMode":{"type":["string","null"]},
              "other_attributes":{"type":"object","additionalProperties":true}
            },
            "additionalProperties":true
          }
        },
        "pins":{
          "type":"array",
          "items":{
            "type":"object",
            "required":["name","type","signals"],
            "properties":{
              "name":{"type":["string","null"]},
              "position":{"type":["string","null"]},
              "type":{"type":["string","null"]},
              "variant":{"type":["string","null"]},
              "signals":{
                "type":"array",
                "items":{
                  "type":"object",
                  "properties":{
                    "name":{"type":["string","null"]},
                    "IOModes":{"type":["string","null"]},
                    "other_attributes":{"type":"object","additionalProperties":true}
                  },
                  "additionalProperties":true
                }
              },
              "other_attributes":{"type":"object","additionalProperties":true}
            },
            "additionalProperties":true
          }
        }
      },
      "additionalProperties":true
    }
  },
  "additionalProperties":true
}
