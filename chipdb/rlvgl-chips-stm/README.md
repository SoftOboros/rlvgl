<!--
README.md - Usage and format notes for the rlvgl-chips-stm vendor crate.
-->
<p align="center">
  <img src="../../rlvgl-logo.png" alt="rlvgl" />
</p>

# rlvgl-chips-stm
Package: `rlvgl-chips-stm`

Provides a board database for STMicroelectronics devices used by `rlvgl-creator`.

## Usage

The published crate embeds a zstd-compressed chip database generated by
`tools/build_vendor.sh`. Consumers simply link the crate; the archive is
decompressed at runtime by `rlvgl-creator`.

When building from a git checkout, run `tools/build_vendor.sh` first to
produce the `assets/chipdb.bin.zst` file used by the build script:

```sh
VENDOR_DIR=chips/stm CRATE_DIR=chipdb/rlvgl-chips-stm OUT_DIR=build/chipdb/stm \
    bash tools/build_vendor.sh
```

If `assets/chipdb.bin.zst` is absent, the build script falls back to the
`RLVGL_CHIP_SRC` environment variable to locate uncompressed JSON
definitions.

See [assets/README.md](./assets/README.md) for details on the compressed database archive.

The library exposes helper functions for consumers:

- `vendor()` – returns `"stm"`.
- `boards()` – lists supported boards as `BoardInfo` entries.
- `find(name)` – looks up a board by its exact name.

`rlvgl-creator` integrates this crate to populate vendor and board drop-downs.
Other vendor crates follow the same layout and API.

## BoardInfo format

Each `BoardInfo` describes a board with at least a human-friendly board name
and associated chip. Future versions may include package information and pin
configuration offsets.

## Features

- Optional `serde` support for serialising the board database: enable the
  `serde` feature if integration with external tooling requires it.

